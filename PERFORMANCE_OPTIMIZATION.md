# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

## üêå –ü—Ä–æ–±–ª–µ–º–∞: 9 —Å–µ–∫—É–Ω–¥ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ vs 1 —Å–µ–∫—É–Ω–¥–∞ –Ω–∞ –ü–ö

## üîç –ü—Ä–∏—á–∏–Ω—ã –º–µ–¥–ª–µ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏:

### 1. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- `loadUsers()`, `loadChats()`, `loadEvents()` –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- 5+ Real-time –ø–æ–¥–ø–∏—Å–æ–∫ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –±–µ–∑ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

### 2. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ code splitting
- –í—Å–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ
- Leaflet (–∫–∞—Ä—Ç—ã) –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ä–∞–∑—É

### 3. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ê–≤–∞—Ç–∞—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –ø–æ–ª–Ω–æ–º —Ä–∞–∑–º–µ—Ä–µ
- –ù–µ—Ç lazy loading –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## üöÄ –†–µ—à–µ–Ω–∏—è:

### 1. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Vite –∫–æ–Ω—Ñ–∏–≥
–ó–∞–º–µ–Ω–∏—Ç–µ `vite.config.js` –Ω–∞ `vite.config.optimized.js`:

```bash
mv vite.config.js vite.config.old.js
mv vite.config.optimized.js vite.config.js
```

### 2. –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
–†–∞–∑–¥–µ–ª–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –Ω–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:

```javascript
// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ë–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ)
loadEssentialData()

// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –ß–∞—Ç—ã –∏ —Å–æ–±—ã—Ç–∏—è (—á–µ—Ä–µ–∑ 500ms)
setTimeout(() => loadSecondaryData(), 500)

// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: Real-time –ø–æ–¥–ø–∏—Å–∫–∏ (—á–µ—Ä–µ–∑ 1s)
setTimeout(() => setupRealtimeSubscriptions(), 1000)
```

### 3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
```javascript
const getCachedLocation = () => {
  const cached = localStorage.getItem('userLocation');
  if (cached) {
    const { timestamp, location } = JSON.parse(cached);
    // –ö—ç—à –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 5 –º–∏–Ω—É—Ç
    if (Date.now() - timestamp < 5 * 60 * 1000) {
      return location;
    }
  }
  return null;
};
```

### 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```javascript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å thumbnail URLs
const getOptimizedImageUrl = (url, size = 100) => {
  if (!url) return DEFAULT_AVATAR;
  return `${url}?w=${size}&h=${size}&fit=crop`;
};
```

### 5. Service Worker –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
```javascript
// –î–æ–±–∞–≤–∏—Ç—å –≤ sw.js
const CACHE_NAME = 'motopara-v2';
const urlsToCache = [
  '/',
  '/static/js/*.js',
  '/static/css/*.css',
  '/favicons/*'
];
```

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- **–î–æ:** 9 —Å–µ–∫—É–Ω–¥
- **–ü–æ—Å–ª–µ:** 2-3 —Å–µ–∫—É–Ω–¥—ã
- **–° PWA:** 1-2 —Å–µ–∫—É–Ω–¥—ã (–ø—Ä–∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—É—Å–∫–∞—Ö)

## üîß –ö–∞–∫ –ø—Ä–∏–º–µ–Ω–∏—Ç—å:

1. **–û–±–Ω–æ–≤–∏—Ç—å Vite –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**
2. **–î–æ–±–∞–≤–∏—Ç—å lazy loading –¥–ª—è –¥–∞–Ω–Ω—ã—Ö**
3. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è**
4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å PWA –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
5. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ**

## üì± –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è PWA:

### 1. Preload –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
```html
<link rel="preload" href="/static/js/main.js" as="script">
<link rel="preload" href="/static/css/main.css" as="style">
```

### 2. –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–ª—Ç–∞–π–º –ø–æ–¥–ø–∏—Å–∫–∏
```javascript
// –û—Ç–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ —Å–∫—Ä—ã—Ç–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
document.addEventListener('visibilitychange', () => {
  if (document.hidden) {
    // Pause real-time subscriptions
  } else {
    // Resume real-time subscriptions
  }
});
```

### 3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å bundle size
```bash
npm run build
npx vite-bundle-analyzer dist
```
